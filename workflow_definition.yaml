# workflow_definition.yaml
workflowName: "Dynamic Workflow Example"
execution:
  type: "sequential"
  blocks:
    - type: "activity"
      activityName: "CheckPolicy"
      args:
        - "John Doe"
        - "john.doe@example.com"
        # - "forbidden: if uncommented, the workflow will be denied by the policy"
    
    - type: "activity"
      activityName: "RequestHumanApproval"
      args:
        - "ExecuteAgentTask"
    
    - type: "parallel"
      blocks:
        - type: "activity"
          activityName: "ExecuteAgentTask"
          args:
            - "john.doe@example.com"
            - "cus_123456789"
        
        - type: "sequential"
          blocks:
            - type: "activity"
              activityName: "GenerateReport"
              args:
                - "john.doe@example.com"
            - type: "activity"
              activityName: "SendNotification"
              args:
                - "john.doe@example.com"
                - "Task completed"
    
    
    - type: "activity"
      activityName: "CleanupTask"
      args:
        - "john.doe@example.com"
        - "cus_123456789"
